{% extends 'citisoft/vendor/vendor_home.html' %}
{% load static %}
{% block content %}

<main class="form-signin w-100 m-auto">
  <div class="container">
      <div class="row justify-content-center">
          <div class="col-md-6">
              <form id="signupForm">
                  <div class="form-floating">
                      <label for="firstName">First Name</label>
                      <input type="text" class="form-control" id="firstName" placeholder="First Name">
                  </div>
                  <br>
                  <div class="form-floating">
                      <label for="lastName">Last Name</label>
                      <input type="text" class="form-control" id="lastName" placeholder="Last Name">
                  </div>
                  <br>
                  <div class="form-floating">
                      <label for="email">Email address</label>
                      <input type="email" class="form-control" id="email" placeholder="name@example.com">
                      <div id="emailError" class="text-danger"></div>
                  </div>
                  <br>
                  <div class="form-floating">
                      <label for="confirmEmail">Confirm Email address</label>
                      <input type="email" class="form-control" id="confirmEmail" placeholder="name@example.com">
                      <div id="confirmEmailError" class="text-danger"></div>
                  </div>
                  <br>
                  <select class="form-select" id="countrySelect">
                      <option selected disabled>Country</option>
                      <option>Algeria</option>
                      <option>United Kingdom</option>
                      <option>United State</option>
                      <option>Nigeria</option>
                      <option>South Africa</option>
                      <option>Kenya</option>
                      
                  </select>
                  <div id="countrySelectError" class="text-danger"></div>
                  <br>
                  <div class="form-floating">
                      <label for="password">Password</label>
                      <input type="password" class="form-control" id="password" placeholder="Password">
                      <div id="passwordError" class="text-danger"></div>
                  </div>
                  <br>
                  <div class="d-grid mx-auto gap-3" style="max-width: 200px;">
                      <button class="btn btn-primary btn-lg mb-2" type="submit">Signup</button>
                      <button class="btn btn-outline-danger btn-lg mb-2" type="button" style="float:right; margin:5px;">Cancel</button>
                  </div>
                  <div class="mt-5 text-body-secondary">
                      <p class="d-inline mr-4">Opening a new Vendor Account? <a href="{% url 'vendorsignup' %}">Sign up here</a></p>
                      <br>
                      <p class="d-inline">Already Have an Account? <a href="{% url 'userlogin' %}">Sign in here</a></p>
                  </div>
              </form>
          </div>
      </div>
  </div>
</main>

<script>
  document.getElementById('signupForm').addEventListener('submit', function(event) {
      var email = document.getElementById('email').value;
      var confirmEmail = document.getElementById('confirmEmail').value;
      var password = document.getElementById('password').value;
      var country = document.getElementById('countrySelect').value;
      var emailError = document.getElementById('emailError');
      var confirmEmailError = document.getElementById('confirmEmailError');
      var passwordError = document.getElementById('passwordError');
      var countrySelectError = document.getElementById('countrySelectError');
      var isValid = true;

      // Email validation
      if (!isValidEmail(email)) {
          emailError.innerText = 'Please enter a valid email address';
          isValid = false;
      } else {
          emailError.innerText = '';
      }

      // Confirm Email validation
      if (email !== confirmEmail) {
          confirmEmailError.innerText = 'Email addresses do not match';
          isValid = false;
      } else {
          confirmEmailError.innerText = '';
      }

      // Password validation
      if (!isValidPassword(password)) {
          passwordError.innerText = 'Password must be at least 8 characters long';
          isValid = false;
      } else {
          passwordError.innerText = '';
      }

      // Country select validation
      if (country === null || country === "") {
          countrySelectError.innerText = 'Please select a country';
          isValid = false;
      } else {
          countrySelectError.innerText = '';
      }

      if (!isValid) {
          event.preventDefault(); // Prevent form submission if validation fails
      }
  });

  function isValidEmail(email) {
      // Basic email validation
      var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
  }

  function isValidPassword(password) {
      // Password must be at least 8 characters long
      return password.length >= 8;
  }
</script>

  {% endblock content%}